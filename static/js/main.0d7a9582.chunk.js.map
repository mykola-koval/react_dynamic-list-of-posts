{"version":3,"sources":["components/PostsList/PostsList.tsx","api/posts.ts","api/comments.ts","components/Loader/Loader.tsx","components/NewCommentForm/NewCommentForm.tsx","components/PostDetails/PostDetails.tsx","App.tsx","index.tsx"],"names":["PostsList","posts","selectedPostId","handlePostId","className","map","post","userId","title","type","onClick","id","BASE_URL","getAllPosts","a","fetch","json","getUserPosts","userPosts","getPostDetails","postId","postDetails","getPostComments","postComments","removePostComment","commentId","method","postComment","addPostComment","name","email","body","headers","JSON","stringify","newComment","Loader","NewCommentForm","loadComments","useState","setName","setEmail","setBody","addNewComment","event","preventDefault","placeholder","value","onChange","target","PostDetails","setPostDetails","setPostComments","commentsHidden","setCommentsHidden","postDetailsLoaded","setPostDetailsLoaded","commentsFromServer","loadPostDetails","postsFromServer","useEffect","removeComment","length","comment","App","setPosts","setSelectedPostId","postsLoaded","setPostsLoaded","loadGoods","htmlFor","changeUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0d7a9582.chunk.js","sourcesContent":["import React from 'react';\nimport './PostsList.scss';\n\ntype Props = {\n  posts: Post[],\n  handlePostId: (postId: number) => void,\n  selectedPostId: number,\n};\n\nexport const PostsList: React.FC<Props> = ({ posts, selectedPostId, handlePostId }) => (\n  <div className=\"PostsList\">\n    <h2>Posts:</h2>\n    <ul className=\"PostsList__list\">\n      {posts.map(post => (\n        <li key={post.id} className=\"PostsList__item\">\n          <div>\n            <b>{`[User #${post.userId}]: `}</b>\n            {post.title}\n          </div>\n          <button\n            type=\"button\"\n            className=\"PostsList__button button\"\n            onClick={() => handlePostId(post.id)}\n          >\n            {post.id === selectedPostId ? 'Close' : 'Open'}\n          </button>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n","export const BASE_URL = 'https://mate.academy/students-api';\n\nexport const getAllPosts = async () => {\n  const posts = await fetch(`${BASE_URL}/posts`);\n\n  return posts.json();\n};\n\nexport const getUserPosts = async (userId: number) => {\n  if (!userId) {\n    return getAllPosts();\n  }\n\n  const userPosts = await fetch(`${BASE_URL}/posts?userId=${userId}`);\n\n  return userPosts.json();\n};\n\nexport const getPostDetails = async (postId: number) => {\n  const postDetails = await fetch(`${BASE_URL}/posts/${postId}`);\n\n  return postDetails.json();\n};\n","import { BASE_URL } from './posts';\n\nexport const getPostComments = async (postId: number) => {\n  const postComments = await fetch(`${BASE_URL}/comments?postId=${postId}`);\n\n  return postComments.json();\n};\n\nexport const removePostComment = async (commentId: number) => {\n  const postComment = await fetch(`${BASE_URL}/comments/${commentId}`, {\n    method: 'DELETE',\n  });\n\n  return postComment.json();\n};\n\nexport const addPostComment = async (\n  postId: number,\n  name: string,\n  email: string,\n  body: string,\n) => {\n  const newComment = await fetch(`${BASE_URL}/comments`, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      postId,\n      name,\n      email,\n      body,\n    }),\n  });\n\n  return newComment.json();\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useState } from 'react';\nimport { addPostComment } from '../../api/comments';\nimport './NewCommentForm.scss';\n\ntype Props = {\n  selectedPostId: number,\n  loadComments: () => Promise<void>,\n};\n\nexport const NewCommentForm: React.FC<Props> = ({ selectedPostId, loadComments }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [body, setBody] = useState('');\n\n  const clearForm = () => {\n    setName('');\n    setEmail('');\n    setBody('');\n  };\n\n  const addNewComment = async (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    event.preventDefault();\n    await addPostComment(selectedPostId, name, email, body);\n    loadComments();\n    clearForm();\n  };\n\n  return (\n    <form className=\"NewCommentForm\">\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Your name\"\n          className=\"NewCommentForm__input\"\n          value={name}\n          onChange={(event) => setName(event.target.value)}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"email\"\n          placeholder=\"Your email\"\n          className=\"NewCommentForm__input\"\n          value={email}\n          onChange={(event) => setEmail(event.target.value)}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <textarea\n          name=\"body\"\n          placeholder=\"Type comment here\"\n          className=\"NewCommentForm__input\"\n          value={body}\n          onChange={(event) => setBody(event.target.value)}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n        onClick={event => addNewComment(event)}\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { getPostComments, removePostComment } from '../../api/comments';\nimport { getPostDetails } from '../../api/posts';\nimport { Loader } from '../Loader';\nimport { NewCommentForm } from '../NewCommentForm';\nimport './PostDetails.scss';\n\ntype Props = {\n  selectedPostId: number,\n};\n\nexport const PostDetails: React.FC<Props> = ({ selectedPostId }) => {\n  const [postDetails, setPostDetails] = useState<Post>();\n  const [postComments, setPostComments] = useState<PostComment[]>([]);\n  const [commentsHidden, setCommentsHidden] = useState(true);\n  const [postDetailsLoaded, setPostDetailsLoaded] = useState(false);\n\n  const loadComments = async () => {\n    const commentsFromServer = await getPostComments(selectedPostId);\n\n    setPostComments(commentsFromServer);\n  };\n\n  const loadPostDetails = async () => {\n    setPostDetailsLoaded(false);\n    const postsFromServer = await getPostDetails(selectedPostId);\n\n    setPostDetailsLoaded(true);\n    setPostDetails(postsFromServer);\n  };\n\n  useEffect(() => {\n    if (selectedPostId) {\n      loadPostDetails();\n      loadComments();\n    }\n  }, [selectedPostId]);\n\n  const removeComment = async (commentId: number) => {\n    await removePostComment(commentId);\n\n    loadComments();\n  };\n\n  return (\n    <div className=\"PostDetails\">\n      <h2>Post details:</h2>\n\n      {postDetails && postDetailsLoaded\n        ? (\n          <section className=\"PostDetails__post\">\n            <p>{postDetails.body}</p>\n          </section>\n        )\n        : <Loader />}\n\n      <section className=\"PostDetails__comments\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={() => setCommentsHidden(!commentsHidden)}\n        >\n          {`${commentsHidden ? 'Show' : 'Hide'} ${postComments.length} comments`}\n        </button>\n\n        {!commentsHidden\n          && (\n            <ul className=\"PostDetails__list\">\n              {postComments.map(comment => (\n                <li\n                  key={comment.id}\n                  className=\"PostDetails__list-item\"\n                >\n                  <button\n                    type=\"button\"\n                    className=\"PostDetails__remove-button button\"\n                    onClick={() => removeComment(comment.id)}\n                  >\n                    X\n                  </button>\n                  <p>{`[${comment.name}]: ${comment.body}`}</p>\n                </li>\n              ))}\n            </ul>\n          )}\n      </section>\n\n      <section>\n        <div className=\"PostDetails__form-wrapper\">\n          <NewCommentForm\n            selectedPostId={selectedPostId}\n            loadComments={loadComments}\n          />\n        </div>\n      </section>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { getAllPosts, getUserPosts } from './api/posts';\nimport { Loader } from './components/Loader';\n\nconst App: React.FC = () => {\n  const [posts, setPosts] = useState([]);\n  const [selectedPostId, setSelectedPostId] = useState(0);\n  const [postsLoaded, setPostsLoaded] = useState(false);\n\n  useEffect(() => {\n    const loadGoods = async () => {\n      const postsFromServer = await getAllPosts();\n\n      setPostsLoaded(true);\n      setPosts(postsFromServer);\n    };\n\n    loadGoods();\n  }, []);\n\n  const handlePostId = (postId: number) => {\n    if (selectedPostId === postId) {\n      setSelectedPostId(0);\n    } else {\n      setSelectedPostId(postId);\n    }\n  };\n\n  async function changeUser(userId: number) {\n    const userPosts = await getUserPosts(userId);\n\n    setPosts(userPosts);\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <label htmlFor=\"user-selector\">\n          Select a user: &nbsp;\n\n          <select\n            id=\"user-selector\"\n            className=\"App__user-selector\"\n            onChange={(event) => changeUser(+event.target.value)}\n          >\n            <option value=\"0\">All users</option>\n            <option value=\"1\">Leanne Graham</option>\n            <option value=\"2\">Ervin Howell</option>\n            <option value=\"3\">Clementine Bauch</option>\n            <option value=\"4\">Patricia Lebsack</option>\n            <option value=\"5\">Chelsey Dietrich</option>\n            <option value=\"6\">Mrs. Dennis Schulist</option>\n            <option value=\"7\">Kurtis Weissnat</option>\n            <option value=\"8\">Nicholas Runolfsdottir V</option>\n            <option value=\"9\">Glenna Reichert</option>\n            <option value=\"10\">Leanne Graham</option>\n          </select>\n        </label>\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          {postsLoaded\n            ? (\n              <PostsList\n                posts={posts}\n                handlePostId={handlePostId}\n                selectedPostId={selectedPostId}\n              />\n            )\n            : <Loader />}\n\n        </div>\n\n        <div className=\"App__content\">\n          {selectedPostId !== 0\n            && (\n              <PostDetails selectedPostId={selectedPostId} />\n            )}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}